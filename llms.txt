# Workflow Pilot - LLM Context Document
Generated: 2025-12-22T09:24:03.029Z

## Project Overview
A visual workflow builder as an Odoo 18 module using OWL framework.

### Tech Stack
- Odoo 18, OWL (Odoo Web Library)
- JavaScript ES6+, XML (QWeb), Vanilla CSS

### Key Features
- Pan/Zoom canvas with BFS-based auto-layout (Tidy Up)
- Smart connection snapping (50px radius)
- Bezier curve connections with arrowheads

---

## Component API Reference

## File: workflow_pilot/static/src/components\editor_canvas.js

### Class: `EditorCanvas`
- Extends: `Component`
- **Props**: nodes, connections, onDropNode, onSelectNode, onNodePositionChange, onConnectionCreate
- **Methods**:
  - `setup()`
  - `get nodes()`
  - `get connections()`
  - `get viewportTransformStyle()`
  - `getCanvasPosition(ev)`
  - `onWheel(ev)`
  - `get zoomPercentage()`
  - `zoomIn()`
  - `zoomOut()`
  - `resetZoom()`
  - `tidyUp()`
  - `get selectionBoxStyle()`
  - `completeSelection()`
  - `getBezierPath(sourceX, sourceY, targetX, targetY)`
  - `getSocketPositionForNode(node, socketKey, socketType)`
  - `get renderedConnections()`
  - `get tempConnectionPath()`
  - `onSocketMouseDown(data) [arrow]`
  - `findNearestSocket(x, y, sourceNodeId)`
  - `onDocumentMouseMove(ev)`
  - `onDocumentMouseUp(ev)`
  - `onSocketMouseUp(data) [arrow]`
  - `cancelConnection()`
  - `onDragOver(ev)`
  - `onDrop(ev)`
  - `onNodeMove(...)`
  - `onNodeSelect(node)`
  - `onCanvasClick(ev)`
  - `isNodeSelected(node)`
  - `onCanvasMouseDown(ev)`

---

## File: workflow_pilot/static/src/components\node_palette.js

### Class: `NodePaletteItem`
- Extends: `Component`
- **Props**: name, title, icon, className, onAddNode
- **Methods**:
  - `setup()`
  - `onClick()`
  - `onDragStart(ev)`

### Class: `NodePalette`
- Extends: `Component`
- **Props**: onAddNode
- **Methods**:
  - `setup()`
  - `get items()`

---

## File: workflow_pilot/static/src/components\workflow_app.js

### Class: `WorkflowApp`
- Extends: `Component`

---

## File: workflow_pilot/static/src/components\workflow_node.js

### Class: `WorkflowNode`
- Extends: `Component`
- **Props**: node, zoom, snappedSocketKey, onMove, onSelect, onSocketMouseDown, onSocketMouseUp, selected
- **Methods**:
  - `setup()`
  - `onHeaderMouseDown(ev)`
  - `onMouseMove(ev)`
  - `onMouseUp()`
  - `get nodeIcon()`
  - `get nodeTypeClass()`

---

## File: workflow_pilot/static/src/components\workflow_socket.js

### Class: `WorkflowSocket`
- Extends: `Component`
- **Props**: type, name, label, nodeId, isConnected, isSnapped, onMouseDown, onMouseUp
- **Methods**:
  - `onPointMouseDown(ev)`
  - `onPointMouseUp(ev)`

---

## File: workflow_pilot/static/src/dev_boot.js

### Standalone Functions
- `shouldMountDevApp()`
- `mountDevApp()`

---

## File: workflow_pilot/static/src/dev_demo_app.js

### Class: `WorkflowPilotDevApp`
- Extends: `Component`
- **Methods**:
  - `setup()`
  - `onAddNode(type) [arrow]`
  - `onDropNode(...) [arrow]`
  - `onSelectNode(node) [arrow]`
  - `onNodePositionChange(...) [arrow]`
  - `onConnectionCreate(...) [arrow]`
  - `_createNode(type, position)`
  - `_getNodeConfig(type)`
  - `clear()`
  - `addConnection(sourceId, sourceHandle, targetId, targetHandle)`
  - `createDemoSetup()`

---

## File: workflow_pilot/static/src/utils\graph_utils.js

### Class: `WorkflowGraph`
- **Methods**:
  - `constructor()`
  - `fromNodes(nodes, connections)`
  - `detectCycles()`
  - `layout(options)`
  - `getNodePosition(nodeId)`
  - `getBackEdges()`
  - `hasCycles()`

---

## File: workflow_pilot/static/src/workflow_pilot_action.js

*(No classes or functions detected)*

---

