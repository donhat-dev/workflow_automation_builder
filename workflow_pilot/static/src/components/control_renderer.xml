<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
	<t t-name="workflow_pilot.control_renderer">
		<div class="control-renderer" t-att-class="'control-type-' + controlType">
			<!-- LABEL -->
			<label t-if="label" class="control-label" t-esc="label"/>
			<!-- TEXT INPUT -->
			<t t-if="controlType === 'text'">
				<t t-if="isMultiline">
					<textarea class="control-input control-textarea" t-att-placeholder="placeholder" t-att-value="value" t-on-input="onInput" rows="3" />
				</t>
				<t t-else="">
					<input type="text" class="control-input" t-att-placeholder="placeholder" t-att-value="value" t-on-input="onInput" />
				</t>
			</t>
			<!-- SELECT -->
			<t t-elif="controlType === 'select'">
				<select class="control-select" t-on-change="onSelectChange">
					<t t-foreach="options" t-as="opt" t-key="opt.value">
						<option t-att-value="opt.value" t-att-selected="opt.value === value" t-esc="opt.label" />
					</t>
				</select>
			</t>
			<!-- NUMBER -->
			<t t-elif="controlType === 'number'">
				<input type="number" class="control-input control-number" t-att-value="value" t-att-min="props.control.min" t-att-max="props.control.max" t-att-step="props.control.step" t-on-input="onInput" />
			</t>
			<!-- CHECKBOX -->
			<t t-elif="controlType === 'checkbox'">
				<input type="checkbox" class="control-checkbox" t-att-checked="value" t-on-change="onCheckboxChange" />
			</t>
			<!-- KEY-VALUE PAIRS -->
			<t t-elif="controlType === 'keyvalue'">
				<div class="control-keyvalue">
					<t t-foreach="pairs" t-as="pair" t-key="pair_index">
						<div class="kv-row">
							<input type="text" class="kv-key" t-att-placeholder="props.control.keyPlaceholder" t-att-value="pair.key" t-on-input="(ev) => this.onKeyChange(pair_index, ev)" />
							<input type="text" class="kv-value" t-att-placeholder="props.control.valuePlaceholder" t-att-value="pair.value" t-on-input="(ev) => this.onValueChange(pair_index, ev)" />
							<button class="kv-remove" t-on-click="() => this.removePair(pair_index)" t-att-disabled="pairs.length &lt;= 1">Ã—</button>
						</div>
					</t>
					<button class="kv-add" t-on-click="addPair">+ Add</button>
				</div>
			</t>
		</div>
	</t>
</templates>
